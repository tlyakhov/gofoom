- Entity: ∈⋮2
  ecs.SourceFile:
    Hash: "0x62bf0202"
    ID: 1
    Source: data/worlds/common-assets.yaml
- Entity: ∈⋮3∈⋮Flub
  behaviors.Alive:
    Die:
      Code: |-
        fmt.Printf("Flub %v died.", onEntity)
        shader := materials.GetShader(onEntity)
        if shader != nil {
          // Stage 0 is the regular spritesheet
          shader.Stages[0].Opacity = 0
          // Stage 1 is the death one
          shader.Stages[1].Opacity = 1
        }
    Health: 100
  ecs.Named:
    Name: Flub
  inventory.Weapon: {}
  materials.Shader:
    Stages:
      - BlendingFunc: BlendNormal
        Material: ∈⋮24∈⋮Flub+Spritesheet
      - BlendingFunc: BlendNormal
        Material: ∈⋮28∈⋮dead+%28sprites+flub%29∈⋮62bf0202
        Opacity: 0
  materials.Visible:
    Ambient: 1
    Shadow: ShadowImage
- Entity: ∈⋮4∈⋮Bubble
  behaviors.Proximity:
    InRange:
      Code:
        "if alive := behaviors.GetAlive(body.Entity); alive != nil {\n  alive.Hurt(\"bubble\",
        2, 30)\n  // log.Printf(\"Hit %v\", body.Entity)\n} "
    Range: 5
  ecs.Linked:
    Sources:
      - ∈⋮42∈⋮transparent+bubble+%28sprites%29∈⋮62bf0202
  ecs.Named:
    Name: Bubble
  materials.Image: ∈⋮42∈⋮transparent+bubble+%28sprites%29∈⋮62bf0202
  materials.Lit: ∈⋮42∈⋮transparent+bubble+%28sprites%29∈⋮62bf0202
- Entity: ∈⋮5
  ecs.Linked:
    Sources:
      - ∈⋮39∈⋮keycard+%28sprites+keycard%29∈⋮62bf0202
  materials.Image: ∈⋮39∈⋮keycard+%28sprites+keycard%29∈⋮62bf0202
  materials.Lit: ∈⋮39∈⋮keycard+%28sprites+keycard%29∈⋮62bf0202
  materials.SpriteSheet:
    Cols: "2"
    Frame: "0"
    Frames: "4"
    Material: ∈⋮5
    Rows: "2"
- Entity: ∈⋮6∈⋮Muzzle+Flash+Shader
  ecs.Named:
    Name: Muzzle Flash Shader
  materials.Shader:
    Stages:
      - BlendingFunc: BlendNormal
        Material: ∈⋮44∈⋮muzzle+%28sprites+weird+gun%29∈⋮62bf0202
- Entity: ∈⋮7∈⋮Space+Window
  ecs.Named:
    Name: Space Window
  materials.Shader:
    Stages:
      - BlendingFunc: BlendNormal
        Flags: ShaderTiled|ShaderSky
        Material: ∈⋮71∈⋮space+%28textures%29∈⋮62bf0202
      - BlendingFunc: BlendNormal
        Material: ∈⋮83∈⋮glass+%28textures+space_tiles_hyptosis%29∈⋮62bf0202
- Entity: ∈⋮8
  behaviors.Alive:
    Health: 100
  inventory.Carrier:
    Inventory:
      - ∈⋮9
      - ∈⋮10
      - ∈⋮11
- Entity: ∈⋮9
  inventory.Slot:
    Class: WeirdGun
    Count: "1"
    Image: ∈⋮47∈⋮weird+gun+%28sprites+weird+gun%29∈⋮62bf0202
    Limit: "1"
  inventory.WeaponClass:
    Damage: 10
    FlashMaterial: ∈⋮6∈⋮Muzzle+Flash+Shader
    MarkMaterial: ∈⋮45∈⋮weapon+mark+%28sprites+weird+gun%29∈⋮62bf0202
    MarkSize: 2.5
    Params:
      - Material: ∈⋮47∈⋮weird+gun+%28sprites+weird+gun%29∈⋮62bf0202
        Time: 100
      - Material: ∈⋮47∈⋮weird+gun+%28sprites+weird+gun%29∈⋮62bf0202
        Time: 100
      - Material: ∈⋮47∈⋮weird+gun+%28sprites+weird+gun%29∈⋮62bf0202
        Sound: ∈⋮12∈⋮rifle+%28sounds%29∈⋮62bf0202
        Time: 100
      - Material: ∈⋮46∈⋮weird+gun+cooling+%28sprites+weird+gun%29∈⋮62bf0202
        Sound: ∈⋮6∈⋮blip1+%28sounds%29∈⋮62bf0202
        Time: 100
      - Material: ∈⋮47∈⋮weird+gun+%28sprites+weird+gun%29∈⋮62bf0202
        Time: 100
      - Material: ∈⋮47∈⋮weird+gun+%28sprites+weird+gun%29∈⋮62bf0202
        Time: 100
    Spread: 3
- Entity: ∈⋮10
  inventory.Slot:
    Class: Red Keycard
    Count: "0"
    Image: ∈⋮5
    Limit: "1"
- Entity: ∈⋮11
  inventory.Slot:
    Class: Flower
    Count: "0"
    Image: ∈⋮40∈⋮pluk+%28sprites%29∈⋮62bf0202
    Limit: "100"
- Entity: ∈⋮12∈⋮WeirdGun
  ecs.Named:
    Name: WeirdGun
  inventory.WeaponClass: ∈⋮9
- Entity: ∈⋮13
  behaviors.Door:
    Duration: 1000
    Intent: DoorIntentReset
    Limit: 0
    TweeningFunc: EaseInOut2
    Type: DoorTypeVertical
    UseLimit: false
  behaviors.PlayerTargetable:
    Frob:
      Code: |-
        if !carrier.HasAtLeast("Red Keycard",1) {
          return
        }
        door := behaviors.GetDoor(168)
        if door.State != behaviors.DoorStateOpen {
          door.Intent = behaviors.DoorIntentOpen
        } else if door.State != behaviors.DoorStateClosed {
          door.Intent = behaviors.DoorIntentClosed
        }
    Message:
      Door - {{if .Carrier.HasAtLeast "Red Keycard" 1}}Open using red keycard{{else}}Need
      red keycard to open{{end}}
  behaviors.Proximity:
    Hysteresis: 0
    InRange:
      Code: |-
        if p := character.GetPlayer(body.Entity); p != nil {
          p.HoveringTargets.Add(onEntity)
        }
    ValidComponents: character.Player
- Entity: ∈⋮14∈⋮Inventory+Item+Base
  ecs.Named:
    Name: Inventory Item Base
  materials.Lit:
    Ambient: 0, 0, 0
    Diffuse: 1, 1, 1, 1
  materials.Visible:
    Ambient: 1
    Shadow: ShadowImage
- Entity: ∈⋮19∈⋮Flower+%28Starting+Room%29
  ecs.Linked:
    Sources:
      - ∈⋮249∈⋮Flower+Inventory+Item
  ecs.Named:
    Name: Flower (Starting Room)
  inventory.Item:
    Class: Flower
    Count: "1"
    Image: ∈⋮98
  materials.SpriteSheet:
    Angles: "0"
    Frame:
      Damping: 0
      Freq: 1e-06
      Now: "0"
      Response: 0
      Spawn: "0"
    Material: ∈⋮98
  materials.Visible: ∈⋮14∈⋮Inventory+Item+Base
- Entity: ∈⋮20∈⋮Rotate+360+Loop+1
  behaviors.ActionFace:
    Angle: 0
  behaviors.ActionTransition:
    Next:
      - ∈⋮21∈⋮Rotate+360+Loop+2
  ecs.Named:
    Name: Rotate 360 Loop 1
- Entity: ∈⋮21∈⋮Rotate+360+Loop+2
  behaviors.ActionFace:
    Angle: 90
  behaviors.ActionTransition:
    Next:
      - ∈⋮22∈⋮Rotate+360+Loop+3
  ecs.Named:
    Name: Rotate 360 Loop 2
- Entity: ∈⋮22∈⋮Rotate+360+Loop+3
  behaviors.ActionFace:
    Angle: 180
  behaviors.ActionTransition:
    Next:
      - ∈⋮23∈⋮Rotate+360+Loop+4
  ecs.Named:
    Name: Rotate 360 Loop 3
- Entity: ∈⋮23∈⋮Rotate+360+Loop+4
  behaviors.ActionFace:
    Angle: 270
  behaviors.ActionTransition:
    Next:
      - ∈⋮20∈⋮Rotate+360+Loop+1
  ecs.Named:
    Name: Rotate 360 Loop 4
- Entity: ∈⋮24∈⋮Flub+Spritesheet
  ecs.Named:
    Name: Flub Spritesheet
  materials.SpriteSheet:
    Angles: "8"
    Cols: "4"
    Frame:
      Damping: 0
      Freq: 1e-06
      Now: "0"
      Response: 0
      Spawn: "0"
    Material: ∈⋮37∈⋮flub+%28sprites+flub%29∈⋮62bf0202
    Rows: "2"
- Entity: ∈⋮132∈⋮Weird+Gun
  ecs.Linked:
    Sources:
      - ∈⋮14∈⋮Inventory+Item+Base
  ecs.Named:
    Name: Weird Gun
  inventory.Item:
    Class: WeirdGun
    Count: "1"
    Image: ∈⋮133
  materials.Lit: ∈⋮14∈⋮Inventory+Item+Base
  materials.SpriteSheet:
    Angles: "0"
    Frame:
      Damping: 0
      Freq: 1e-06
      Now: "0"
      Response: 0
      Spawn: "0"
    Material: ∈⋮133
  materials.Visible: ∈⋮14∈⋮Inventory+Item+Base
- Entity: ∈⋮134∈⋮Proximity+%28Vertical+Doors%29
  ecs.Named:
    Name: Proximity (Vertical Doors)
- Entity: ∈⋮164∈⋮Red+Keycard
  ecs.Linked:
    Sources:
      - ∈⋮14∈⋮Inventory+Item+Base
  ecs.Named:
    Name: Red Keycard
  inventory.Item:
    Class: Red Keycard
    Count: "1"
    Image: ∈⋮5
  materials.Lit: ∈⋮14∈⋮Inventory+Item+Base
  materials.Sprite:
    Frame: "0"
    Material: ∈⋮5
  materials.Visible: ∈⋮14∈⋮Inventory+Item+Base
- Entity: ∈⋮176
  ecs.Linked:
    Sources:
      - ∈⋮249∈⋮Flower+Inventory+Item
  inventory.Item: ∈⋮19∈⋮Flower+%28Starting+Room%29
  materials.SpriteSheet: ∈⋮19∈⋮Flower+%28Starting+Room%29
  materials.Visible: ∈⋮14∈⋮Inventory+Item+Base
- Entity: ∈⋮249∈⋮Flower+Inventory+Item
  ecs.Named:
    Name: Flower Inventory Item
  inventory.Item: ∈⋮19∈⋮Flower+%28Starting+Room%29
  materials.SpriteSheet: ∈⋮19∈⋮Flower+%28Starting+Room%29
  materials.Visible: ∈⋮14∈⋮Inventory+Item+Base
